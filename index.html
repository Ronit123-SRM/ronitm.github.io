<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sweet Boy & Pretty Girl</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<style>
html,body{
  margin:0;padding:0;width:100%;height:100%;
  overflow:hidden;font-family:Arial,sans-serif;
  background:black;
}

/* ===== CLICK TO START ===== */
#startOverlay{
  position:fixed;inset:0;
  background:black;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
#startText{
  color:white;
  font-size:1.8rem;
  animation:pulse 2s infinite;
}
@keyframes pulse{
  0%,100%{opacity:.4}
  50%{opacity:1}
}

/* ===== STORY ===== */
body{
  background:url("wintervillage.jpg") center/cover no-repeat fixed;
}
#scene{position:absolute;width:100vw;height:100vh;}

.text-box{
  position:absolute;
  width:85%;left:7.5%;
  padding:14px;
  background:rgba(255,255,255,.9);
  border-radius:10px;
  font-size:1.4rem;
  opacity:0;
  text-align:center;
}

#sweetBoy,#prettyGirl{
  position:absolute;width:150px;opacity:0;
}

.photo{
  position:absolute;
  max-width:260px;
  left:50%;transform:translateX(-50%);
  top:25%;opacity:0;
}

#endingGif{
  position:absolute;
  max-width:260px;
  left:50%;transform:translateX(-50%);
  top:38%;opacity:0;
}

#finalMessage{
  position:absolute;width:100%;
  top:75%;text-align:center;
  font-size:2.2rem;color:#ff2a68;
  opacity:0;
  text-shadow:2px 2px 8px rgba(0,0,0,.8);
}

/* ===== LOVE TREE ===== */
#loveTreePage{
  position:fixed;inset:0;
  background:radial-gradient(circle at top,#0b2d1c,#000);
  display:none;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  color:white;
}

.tree{
  position:relative;width:300px;height:420px;
  filter:drop-shadow(0 0 20px rgba(255,255,255,.15));
}

.tree-layer{
  position:absolute;left:50%;
  transform:translateX(-50%);
  border-left:150px solid transparent;
  border-right:150px solid transparent;
}
.layer1{top:0;border-bottom:120px solid #1f7a3d}
.layer2{top:70px;border-bottom:140px solid #1b6b35}
.layer3{top:150px;border-bottom:160px solid #165c2e}

.trunk{
  position:absolute;bottom:0;left:50%;
  transform:translateX(-50%);
  width:50px;height:70px;background:#6b3e26;
}

.ornament{
  position:absolute;width:42px;height:42px;
  border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;font-size:1.3rem;
}
.ornament.opened{box-shadow:0 0 25px white}

.ornament.locked{
  opacity:.4;
  cursor:not-allowed;
}
.ornament.locked::after{
  content:"‚è≥";
  position:absolute;
  font-size:1rem;
}

/* positions */
.o1{top:80px;left:130px;background:crimson}
.o2{top:120px;left:80px;background:gold}
.o3{top:120px;left:180px;background:hotpink}
.o4{top:190px;left:60px;background:lightskyblue}
.o5{top:190px;left:200px;background:violet}
.o6{top:260px;left:110px;background:orange}
.o7{top:260px;left:160px;background:limegreen}

/* ===== MODAL ===== */
#modal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.85);
  display:none;
  align-items:center;
  justify-content:center;
}
#modalBox{
  background:#111;
  padding:30px;
  border-radius:15px;
  max-width:420px;
  text-align:center;
  font-size:1.2rem;
  color:white;
  transform:scale(.85);
}

/* ===== FINAL SCENE ===== */
#finalSurprise{
  position:fixed;inset:0;
  background:radial-gradient(circle at center,#111,#000);
  display:none;
  align-items:center;
  justify-content:center;
  text-align:center;
  color:white;
  flex-direction:column;
}

#finalCard{
  background:rgba(20,20,20,.85);
  padding:40px;
  border-radius:20px;
  box-shadow:0 0 40px rgba(255,95,162,.4);
  animation:float 4s ease-in-out infinite;
}

@keyframes float{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-12px)}
}

#finalSurprise h2{
  color:#ff5fa2;
  font-size:3rem;
  margin-bottom:15px;
}

#typedText{
  font-size:1.3rem;
  line-height:1.7;
  white-space:pre-line;
}

.heart{
  position:fixed;
  pointer-events:none;
  font-size:1.5rem;
}
</style>
</head>

<body>

<!-- CLICK TO START -->
<div id="startOverlay">
  <div id="startText">‚ùÑÔ∏è Click to start your story ‚ùÑÔ∏è</div>
</div>

<!-- MUSIC -->
<audio id="storyMusic" src="music.mp3" loop></audio>
<audio id="treeMusic" src="love-tree-music.mp3" loop></audio>

<!-- STORY -->
<div id="scene">
  <div id="sweetBoy" style="top:65%;left:-20%">
    <svg width="150" height="250">
      <circle cx="75" cy="40" r="30" stroke="white" stroke-width="5" fill="none"/>
      <line x1="75" y1="70" x2="75" y2="140" stroke="white" stroke-width="5"/>
      <line x1="75" y1="95" x2="30" y2="120" stroke="white" stroke-width="5"/>
      <line x1="75" y1="95" x2="120" y2="120" stroke="white" stroke-width="5"/>
      <line x1="75" y1="140" x2="45" y2="210" stroke="white" stroke-width="5"/>
      <line x1="75" y1="140" x2="105" y2="210" stroke="white" stroke-width="5"/>
    </svg>
  </div>

  <div id="prettyGirl" style="top:65%;left:85%">
    <svg width="150" height="250">
      <circle cx="75" cy="40" r="30" stroke="white" stroke-width="5" fill="none"/>
      <line x1="75" y1="70" x2="75" y2="140" stroke="white" stroke-width="5"/>
      <line x1="75" y1="95" x2="40" y2="120" stroke="white" stroke-width="5"/>
      <line x1="75" y1="95" x2="110" y2="120" stroke="white" stroke-width="5"/>
      <line x1="75" y1="140" x2="50" y2="210" stroke="white" stroke-width="5"/>
      <line x1="75" y1="140" x2="100" y2="210" stroke="white" stroke-width="5"/>
    </svg>
  </div>

  <div id="txt1" class="text-box">It was Christmas Eve‚Ä¶ and Sweet Boy set out on his snowy journey‚Ä¶</div>
  <div id="txt2" class="text-box">With every step, his thoughts kept drifting back to her.</div>
  <div id="txt3" class="text-box">Even in the cold, the memories felt warm.</div>
  <div id="txt4" class="text-box">Through quiet streets and glowing lights, he kept walking.</div>
  <div id="txt5" class="text-box">And finally‚Ä¶ there she was.</div>

  <img id="photo1" class="photo" src="Leah1.jpeg">
  <img id="photo2" class="photo" src="Leah2.jpeg">
  <img id="endingGif" src="Leah.gif">
  <div id="finalMessage">Merry Christmas my pretty girl ‚ù§Ô∏è</div>
</div>

<!-- LOVE TREE -->
<div id="loveTreePage">
  <h1>üéÑ Love Tree üéÑ</h1>
  <div class="tree">
    <div class="tree-layer layer1"></div>
    <div class="tree-layer layer2"></div>
    <div class="tree-layer layer3"></div>
    <div class="trunk"></div>

    <div class="ornament o1" data-id="1">‚ù§Ô∏è</div>
    <div class="ornament o2" data-id="2">‚ú®</div>
    <div class="ornament o3" data-id="3">üéÅ</div>
    <div class="ornament o4" data-id="4">üí´</div>
    <div class="ornament o5" data-id="5">üíñ</div>
    <div class="ornament o6" data-id="6">üåü</div>
    <div class="ornament o7 locked" data-id="7">üéÑ</div>
  </div>
</div>

<!-- MODAL -->
<div id="modal">
  <div id="modalBox">
    <p id="modalText"></p><br>
    <button onclick="closeModal()">Close</button>
  </div>
</div>

<!-- FINAL -->
<div id="finalSurprise">
  <div id="finalCard">
    <h2>You unlocked my heart ‚ù§Ô∏è</h2>
    <p id="typedText"></p>
  </div>
</div>

<script>
const BEAT_DROP_TIME = 160;
const finalMessage =
`I don‚Äôt need perfect moments.
I just need the ones with you.

Every laugh, every quiet second,
every little thing you do
makes this feel like home to me.

I‚Äôm really grateful it‚Äôs you.
Always. ‚ù§Ô∏è`;

const tl = gsap.timeline({paused:true,onComplete:goToTree});
startOverlay.onclick=()=>{
  startOverlay.style.display="none";
  storyMusic.play();
  tl.play();
};

/* STORY */
tl.to("#sweetBoy",{opacity:1,x:"30vw",duration:2})
  .to("#txt1",{opacity:1,duration:3})
  .to("#txt1",{opacity:0,duration:1},"+=2")
  .to("#txt2",{opacity:1,duration:3})
  .to("#txt2",{opacity:0,duration:1},"+=2")
  .to("#photo1",{opacity:1,duration:2})
  .to("#photo1",{opacity:0,duration:1},"+=3")
  .to("#txt3",{opacity:1,duration:3})
  .to("#txt3",{opacity:0,duration:1},"+=2")
  .to("#photo2",{opacity:1,duration:2})
  .to("#photo2",{opacity:0,duration:1},"+=3")
  .to("#txt4",{opacity:1,duration:3})
  .to("#txt4",{opacity:0,duration:1},"+=2")
  .to("#prettyGirl",{opacity:1,duration:2})
  .to("#txt5",{opacity:1,duration:3})
  .to("#txt5",{opacity:0,duration:1},"+=2")
  .to("#endingGif",{opacity:1,duration:2})
  .to("#finalMessage",{opacity:1,scale:1.2,duration:2});

function goToTree(){
  storyMusic.pause();
  scene.style.display="none";
  loveTreePage.style.display="flex";
  treeMusic.play();
}

/* TREE PULSE */
setInterval(()=>{
  if(!treeMusic.paused){
    gsap.fromTo(".tree",{scale:1},{scale:1.04,duration:.25,yoyo:true,repeat:1});
  }
},600);

/* ORNAMENT LOGIC */
const messages={
1:"You make me feel calm just by being you.",
2:"I love how deeply you care.",
3:"Every memory with you means so much to me.",
4:"You make ordinary moments special.",
5:"I smile every time I think of you.",
6:"Being with you feels like home.",
7:"I choose you ‚Äî always."
};

let opened=0;

document.querySelectorAll(".ornament").forEach(o=>{
  o.onclick=()=>{
    if(o.classList.contains("locked")){
      modalText.textContent="Just a little longer‚Ä¶ ‚ú®";
      openModal();
      return;
    }
    if(o.classList.contains("opened"))return;

    o.classList.add("opened");
    modalText.textContent=messages[o.dataset.id];
    openModal();
    opened++;

    if(opened===6){
      waitForBeat();
    }
    if(o.dataset.id==="7"){
      finalReveal();
    }
  };
});

function openModal(){
  modal.style.display="flex";
  gsap.fromTo("#modal",{opacity:0},{opacity:1,duration:.4});
  gsap.fromTo("#modalBox",{scale:.85,y:20},{scale:1,y:0,duration:.5});
}
function closeModal(){
  gsap.to("#modal",{opacity:0,duration:.3,onComplete:()=>modal.style.display="none"});
}

function waitForBeat(){
  const check=setInterval(()=>{
    if(treeMusic.currentTime>=BEAT_DROP_TIME){
      clearInterval(check);
      unlockFinal();
    }
  },100);
}

function unlockFinal(){
  const o=document.querySelector(".ornament.o7");
  o.classList.remove("locked");
  gsap.fromTo(o,{scale:1},{scale:1.4,yoyo:true,repeat:1,duration:.6});
}

function finalReveal(){
  finalSurprise.style.display="flex";

  let i=0;
  function type(){
    if(i<finalMessage.length){
      typedText.textContent+=finalMessage[i++];
      setTimeout(type,45);
    }
  }
  type();

  setInterval(()=>{
    const h=document.createElement("div");
    h.className="heart";
    h.textContent="‚ù§Ô∏è";
    h.style.left=Math.random()*innerWidth+"px";
    h.style.top=innerHeight+"px";
    document.body.appendChild(h);
    gsap.to(h,{y:-200,opacity:0,duration:2,onComplete:()=>h.remove()});
  },300);
}
</script>

</body>
</html>
