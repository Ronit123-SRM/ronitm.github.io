<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sweet Boy & Pretty Girl</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<style>
html,body{
  margin:0;padding:0;width:100%;height:100%;
  overflow:hidden;font-family:Arial,sans-serif;
  background:black;
}

/* START */
#startOverlay{
  position:fixed;inset:0;
  background:black;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
#startText{
  color:white;
  font-size:1.8rem;
  animation:pulse 2s infinite;
}
@keyframes pulse{
  0%,100%{opacity:.4}
  50%{opacity:1}
}

/* STORY */
body{
  background:url("wintervillage.jpg") center/cover no-repeat fixed;
}
#scene{position:absolute;width:100vw;height:100vh;}

.text-box{
  position:absolute;
  width:85%;left:7.5%;
  top:10%;
  padding:14px;
  background:rgba(255,255,255,.9);
  border-radius:10px;
  font-size:1.4rem;
  opacity:0;
  text-align:center;
}

.photo{
  position:absolute;
  max-width:260px;
  left:50%;transform:translateX(-50%);
  top:30%;opacity:0;
}

#endingGif{
  position:absolute;
  max-width:260px;
  left:50%;transform:translateX(-50%);
  top:38%;opacity:0;
}

#finalMessage{
  position:absolute;
  width:100%;
  top:75%;
  text-align:center;
  font-size:2.2rem;
  color:#ff2a68;
  opacity:0;
  text-shadow:2px 2px 8px rgba(0,0,0,.8);
}

/* NEXT */
#nextCorner{
  position:fixed;
  bottom:18px;
  right:22px;
  font-size:1.1rem;
  color:white;
  opacity:0;
  cursor:pointer;
  animation:fadePulse 2s infinite;
}
@keyframes fadePulse{
  0%,100%{opacity:.35}
  50%{opacity:1}
}

/* TREE */
#loveTreePage{
  position:fixed;inset:0;
  background:radial-gradient(circle at top,#0b2d1c,#000);
  display:none;
  color:white;
}

.treeWrap{
  display:flex;
  justify-content:center;
  align-items:center;
  height:100%;
}

.tree{
  position:relative;
  width:300px;
  height:440px;
}

.tree-layer{
  position:absolute;left:50%;
  transform:translateX(-50%);
  border-left:150px solid transparent;
  border-right:150px solid transparent;
}
.layer1{top:20px;border-bottom:120px solid #1f7a3d}
.layer2{top:90px;border-bottom:140px solid #1b6b35}
.layer3{top:170px;border-bottom:160px solid #165c2e}

.trunk{
  position:absolute;bottom:0;left:50%;
  transform:translateX(-50%);
  width:50px;height:70px;background:#6b3e26;
}

.ornament{
  position:absolute;width:42px;height:42px;
  border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;font-size:1.3rem;
}
.ornament.locked{opacity:.4}
.ornament.locked::after{content:"‚è≥";position:absolute}

.o1{top:110px;left:130px;background:crimson}
.o2{top:150px;left:80px;background:gold}
.o3{top:150px;left:180px;background:hotpink}
.o4{top:220px;left:60px;background:lightskyblue}
.o5{top:220px;left:200px;background:violet}
.o6{top:290px;left:110px;background:orange}
.o7{top:290px;left:160px;background:limegreen}

/* FULLSCREEN ORNAMENT SCREEN */
#ornamentScreen{
  position:fixed;
  inset:0;
  background:radial-gradient(circle at center,#1b1b1b,#000);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:10000;
  color:white;
  text-align:center;
}
#ornamentScreenText{
  max-width:700px;
  padding:40px;
  font-size:1.6rem;
  line-height:1.7;
}

/* FINAL LETTER */
#finalSurprise{
  position:fixed;inset:0;
  background:rgba(0,0,0,.95);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:10000;
}
#finalCard{
  background:rgba(20,20,20,.85);
  padding:40px;
  border-radius:20px;
  max-width:600px;
}
#typedText{
  white-space:pre-line;
  font-size:1.3rem;
  line-height:1.7;
}
</style>
</head>

<body>

<div id="startOverlay"><div id="startText">‚ùÑÔ∏è Click to start ‚ùÑÔ∏è</div></div>

<audio id="storyMusic" src="music.mp3" loop></audio>

<div id="scene">
  <div id="txt1" class="text-box">It was Christmas Eve‚Ä¶ and Sweet Boy set out on his snowy journey‚Ä¶</div>
  <div id="txt2" class="text-box">With every step, his thoughts kept drifting back to her.</div>
  <div id="txt3" class="text-box">Even in the cold, the memories felt warm.</div>
  <div id="txt4" class="text-box">Through quiet streets and glowing lights, he kept walking.</div>
  <div id="txt5" class="text-box">And finally‚Ä¶ there she was.</div>

  <img id="photo1" class="photo" src="Leah1.jpeg">
  <img id="photo2" class="photo" src="Leah2.jpeg">
  <img id="endingGif" src="Leah.gif">
  <div id="finalMessage">Merry Christmas my pretty girl ‚ù§Ô∏è</div>
</div>

<div id="nextCorner">‚ûú Continue</div>

<div id="loveTreePage">
  <div class="treeWrap">
    <div class="tree">
      <div class="tree-layer layer1"></div>
      <div class="tree-layer layer2"></div>
      <div class="tree-layer layer3"></div>
      <div class="trunk"></div>

      <div class="ornament o1" data-id="1">‚ù§Ô∏è</div>
      <div class="ornament o2" data-id="2">‚ú®</div>
      <div class="ornament o3" data-id="3">üéÅ</div>
      <div class="ornament o4" data-id="4">üí´</div>
      <div class="ornament o5" data-id="5">üíñ</div>
      <div class="ornament o6" data-id="6">üåü</div>
      <div class="ornament o7 locked" data-id="7">üéÑ</div>
    </div>
  </div>
</div>

<div id="ornamentScreen">
  <div id="ornamentScreenText"></div>
</div>

<div id="finalSurprise">
  <div id="finalCard">
    <p id="typedText"></p>
  </div>
</div>

<script>
const BEAT_DROP_TIME = 160;
let opened = 0;

const messages = {
  1: "You're the sweetest girl, and you always make me feel safe.",
  2: "Your vulnerability in being comfortable with me is so attractive.",
  3: "Your caring nature in always wanting to know what I‚Äôm up to\nmakes me so happy.",
  4: "Your flirting over text has my parents wondering\nwhy I‚Äôm always smiling.\nPlease don‚Äôt stop ‚Äî it‚Äôs amazing.",
  5: "Your clinginess is perfect.\nEven with me across the world,\nit feels like you‚Äôre always there with me.",
  6: "Your humor always makes me smile\n(cough cough‚Ä¶ clearly you learned from the best).",
  7: "I choose you ‚Äî always."
};

const nameLine = "Dear Leah Danielle Nehrbass";
const letterMessage =
`For the past almost two months we‚Äôve been together, it has been amazing,
and I really felt like I had to give you this gift ‚Äî
because you gave me the gift of letting me be with you.

I hope this is the first of many Christmases together.
I hope you liked this gift ‚Äî I put just a little bit of time into it.

Merry Christmas, baby.

I‚Äôm really grateful it‚Äôs you.
Always. ‚ù§Ô∏è`;

const ornamentScreen = document.getElementById("ornamentScreen");
const ornamentScreenText = document.getElementById("ornamentScreenText");

document.querySelectorAll(".ornament").forEach(o=>{
  o.onclick=()=>{
    const id=o.dataset.id;

    if(o.classList.contains("locked")){
      ornamentScreenText.textContent="Just wait a lil longer‚Ä¶ ‚ú®";
      ornamentScreen.style.display="flex";
      ornamentScreen.onclick=()=>ornamentScreen.style.display="none";
      return;
    }

    ornamentScreenText.textContent=messages[id];
    ornamentScreen.style.display="flex";
    opened++;

    ornamentScreen.onclick=()=>{
      ornamentScreen.style.display="none";
      if(id==="7") finalReveal();
    };

    if(opened===6) waitForBeat();
  };
});

function waitForBeat(){
  const check=setInterval(()=>{
    if(storyMusic.currentTime>=BEAT_DROP_TIME){
      clearInterval(check);
      document.querySelector(".ornament.o7").classList.remove("locked");
    }
  },100);
}

function finalReveal(){
  loveTreePage.style.display="none";
  finalSurprise.style.display="flex";
  typedText.textContent=nameLine+"\n\n"+letterMessage;
}

startOverlay.onclick=()=>{
  startOverlay.style.display="none";
  storyMusic.play();
};

nextCorner.onclick=()=>{
  scene.style.display="none";
  loveTreePage.style.display="block";
};
</script>

</body>
</html>
